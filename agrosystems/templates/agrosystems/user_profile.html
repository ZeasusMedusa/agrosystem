{% extends "agrosystems/base.html" %}
{% load static %}
{% load i18n %}

{% block content %}
<div class="main-content">
    <h1>User Profile</h1>
    <div id="userDetails">
      <!-- User details go here, e.g., username, email -->
      <p>Username: {{ user.username }}</p>
      <p>Email: {{ user.email }}</p>
      <!-- More user details -->
    </div>
    <div id="userActions">
      <!-- Change password form -->
      <h2>{% trans "Change Your Password" %}</h2>
      <form action="{% url 'change_password' %}" method="post">
        {% csrf_token %}
        <div class="form-group">
          <label for="id_old_password">{% trans "Old password" %}:</label>
          <input
            type="password"
            name="old_password"
            id="id_old_password"
            required
          />
        </div>
        <div class="form-group">
          <label for="id_new_password1">{% trans "New password" %}:</label>
          <input
            type="password"
            name="new_password1"
            id="id_new_password1"
            required
          />
        </div>
        <div class="form-group">
          <label for="id_new_password2"
            >{% trans "Confirm new password" %}:</label
          >
          <input
            type="password"
            name="new_password2"
            id="id_new_password2"
            required
          />
        </div>
        <button type="submit">{% trans "Change Password" %}</button>
      </form>
      <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit">Logout</button>
      </form>
      <form action="{% url 'delete_account' %}" method="post">
        {% csrf_token %}
        <!-- You might want to include some kind of confirmation before deleting -->
        <button type="submit" class="delete-account" onclick="return confirm('Are you sure you want to delete your account?');">
            Delete Account
        </button>
        
      </form>
    </div>
  </div>
{% endblock %}
    
